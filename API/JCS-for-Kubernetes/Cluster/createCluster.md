# createCluster


## Description
- Create Cluster
- Credential
  - Certificate about kubernetes is generated by default and does not require the user to pass in.
- nodegroup
  - cluster must be associated with nodeGroup
  - cluster supports multiple nodegroup
  - Status
    - pending,reconciling,deleting statuses cannot operate update interfaces
    - running, running_with_error statuses can operate all interfaces of nodegroup
    - error status can search and delete only
    - cluster under delete status can be searched within 15 minutes and cannot be searched after 15 minutes
- Status Restriction
  - pending,reconciling,deleting statuses cannot operate update interfaces
  - running status can operate all interfaces of cluster
  - error status can search and delete only
  - cluster under delete status can be searched within 15 minutes and cannot be searched after 15 minutes


## Request Method
POST

## Request Address
https://kubernetes.jdcloud-api.com/v1/regions/{regionId}/clusters

|Name|Type|Required or Not|Default Value|Description|
|---|---|---|---|---|
|**regionId**|String|True| |Region ID|

## Request Parameter
|Name|Type|Required or Not|Default Value|Description|
|---|---|---|---|---|
|**name**|String|True| |Name (Name duplication is allowed for cluster of the same user)|
|**description**|String|False| |Description|
|**basicAuth**|Boolean|False| |At least enable either basicAuth or clientCertificate by default|
|**clientCertificate**|Boolean|False| |Enable clientCertificate by default|
|**version**|String|False| |Version of kubernetes|
|**azs**|String[]|True| |az where the cluster is located|
|**nodeGroup**|NodeGroupSpec|True| |Creation Parameter of pod|
|**masterCidr**|String|True| |cidr of master of k8s|
|**accessKey**|String|True| |User’s AccessKey, the verification credential when the plug-in calls open-api|
|**secretKey**|String|True| |User’s SecretKey, the verification credential when the plug-in calls open-api|
|**userMetrics**|Boolean|False| |Whether to enable the Custom Metric Monitoring: Not enable it by default|

### NodeGroupSpec
|Name|Type|Required or Not|Default Value|Description|
|---|---|---|---|---|
|**name**|String|True| |Name|
|**description**|String|False| | |
|**nodeConfig**|NodeConfigSpec|True| |Information of Node|
|**initialNodeCount**|Integer|True| |The initial size of nodeGroup shall be one at least|
|**vpcId**|String|True| |vpc run by k8s|
|**nodeCidr**|String|False| |cidr of node of k8s|
|**autoRepair**|Boolean|False| |Whether to enable automatic repair: not enable it by default.|
### NodeConfigSpec
|Name|Type|Required or Not|Default Value|Description|
|---|---|---|---|---|
|**instanceType**|String|True| |Instance Type Family|
|**version**|String|False| |Image Information|
|**systemDiskSize**|Integer|True| |System disk size of cloud disk  unit (GB)|
|**systemDiskType**|String|True| |System disk size of cloud disk [ssd,premium-hdd]|
|**labels**|LabelSpec[]|False| |Information of Node|
### LabelSpec
|Name|Type|Required or Not|Default Value|Description|
|---|---|---|---|---|
|**key**|String|True| |key consists of two parts: prefix and name, name is compulsory while prefix is optional. prefix is separated from name with "/”. <br>name can use letters, figures and [-_.]. The length shall be less than 63. prefix: Follow DNS standard (For example: kubernetes.io/) and the length cannot exceed 253 <br>[Reference](https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/#syntax-and-character-set)    <br>|
|**value**|String|False| |letters, figures, [-_.], and the length cannot exceed 63|

## Return Parameter
|Name|Type|Description|
|---|---|---|
|**result**|Result| |
|**requestId**|String| |

### Result
|Name|Type|Description|
|---|---|---|
|**clusterId**|String| |

## Return Code
|Return Code|Description|
|---|---|
|**200**|OK|
|**400**|Invalid parameter|
|**401**|Authentication failed|
|**404**|Not found|
|**429**|Quota exceeded|
|**500**|Internal server error|
|**503**|Service unavailable|
