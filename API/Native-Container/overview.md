# Native Container


## Introduction
Native Container


### Version
v1


## API
|Interface name|Request mehod|Function description|
|---|---|---|
|**associateElasticIp**|POST|The elastic IP associated with container is the elastic IP corresponding to the primary network interface and primary private IP. <br>One Virtual Machine only can be associated with one elastic IP (primary network interface). If the primary network interface has the elastic IP, the error will be returned. <br>If the user is in the blacklist, the error will be returned. <br>|
|**createContainers**|POST|Create one or more containers that are designated for configuration<br>- Real-name verification is required for creating containers<br>- Image<br>  \- Container images are determined through image names<br>  \- Images named as nginx:tag, mysql/mysql-server:tag are public images of docker hub<br>  \- Images named as container-registry/image:tag are images of private registry<br>  \- Private registry must be compatible to docker registry verification mechanism and save confidential information via secret<br>- hostname Specification<br>  \- Support two methods: Write in the form of tag or in the form of a complete host name<br>  \- Tag Specification<br>    \- 0-9, a-z(case insensitive) and - (minus), and the others are all invalid character strings<br>    \- Neither start with a minus nor end with a minus<br>    \- At least 1 character and at most 63 characters<br>  \- A complete machine name consists of a series of tabs and dots<br>    \- Tags are connected with "."(dot)<br>    \- Neither start with a "."(dot) nor end with a "."(dot)<br>    \- The entire host name (including tag and separation dot ".") shall have at most 63 ASCII characters<br>  \- Regular Expression<br>    \- `^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])(\.([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9]))*$`<br>- Network Configuration<br>  \- Specify primary network interface configuration information<br>    \- Must specify vpcId, subnetId, securityGroupIds<br>    \- Can specify elasticIp specifications to restrict the created elastic IP, with the bandwidth value range [1-200]Mbps and step length 1Mbps<br>    \- Can specify the primary IP(primaryIpAddress) and secondary IP(secondaryIpAddresses) of the network interface, in such case, maxCount can only be 1<br>    \- Can specify the expected secondary IP count (secondaryIpAddressCount) to make the system automatically create the Private IP<br>    \- Can set the autoDelete attribute of network interface and specify whether the network interface can be automatically deleted together with the instance<br>    \- securityGroup and Subnet need to be in the same VPC<br>    \- Every container can specify at most 5 security groups<br>    \- The primary network interface deviceIndex is set as 0<br>- Storage<br>  \- volume is divided into root volume and data volume, wherein the root volume is attached to the directory / and the data volume can be attached to any directory appointed<br>  \- The underlayer storage medium of volume currently only supports cloud types, i.e. Cloud Disk Service<br>  \- When the cloud disk type is ssd.io1, users can specify iops which is invalid for other types of cloud disks and the already existing cloud disks. The specific rules are as follows<br>    \- Step Length 10<br>    \- Range [200, min(32000, size*50)]<br>    \- Default value size*30<br>  \- root volume<br>  \- root volume can only be cloud types<br>    \- The available Cloud Disk Service types include hdd.std1, ssd.gp1 and ssd.io1<br>    \- Disk Size<br>      \- All types: Range [10,100]GB, step length is 10G<br>    \- Auto Delete<br>      \- Auto Delete by Default<br>    \- Can select the existing cloud disks<br>  \- data volume<br>    \- data volume can only select cloud types currently<br>    \- The available Cloud Disk Service types include hdd.std1, ssd.gp1 and ssd.io1<br>    \- Disk Size<br>      \- All types: Range [20,4000]GB, step length is 10G<br>    \- Auto Delete<br>      \- Auto Delete by Default<br>    \- Can select the existing cloud disks<br>    \- Can create disks from snapshot<br>    \- A single container can attach 7 data volumes<br>- Container Log<br>  \- default: 10MB bucket is assigned locally by default, automatically rotate<br>- Others<br>  \- After being created, the container status is running<br>  \- maxCount refers to the best effort and maxCount is not guaranteed<br>|
|**createSecret**|POST|Create a secret for storing secrets. <br>|
|**deleteContainer**|DELETE|The container must have the status of stopped, running or error. <br>The instance paid by volume will keep running until it is actively deleted. The instance not used anymore can be actively stopped through this API. <br>Only instance of type of pay by configuration can be actively deleted. The container with monthly package expired can also be deleted. Please report to the ticket system for other situations. The container with billing status exception can’t be deleted. <br>|
|**deleteSecret**|DELETE|Delete a single secret<br>|
|**describeContainer**|GET|Search details of one native container<br>|
|**describeContainers**|GET|Search the detailed information of Native Container in batches<br> This API supports search in pages, with 20 entries per page by default. <br>|
|**describeInstanceTypes**|GET|Search instance type information list<br>|
|**describeQuota**|GET|Search resource quota and support: Native container pod and secret.<br>|
|**describeSecret**|GET|Search details of a single secret<br>|
|**describeSecrets**|GET|Search secret lists. <br><br>This API supports search in pages, with 20 entries per page by default. <br>|
|**disassociateElasticIp**|POST|The EIP disassociated with the container is the elastic IP corresponding to the primary network interface and primary private IP.<br>|
|**execCreate**|POST|Create exec<br>|
|**execGetExitCode**|GET|Obtain exec exit code<br>|
|**getLogs**|GET|Search a single container log<br>|
|**modifyContainerAttribute**|PATCH|Modify the container name and description. <br>Either name or description must be specified<br>|
|**rebuildContainer**|POST|Reset Native Container, and use new image resetting for existing Native Container. <br> The id of the original container doesn’t change, doesn’t involve billing changes, and doesn’t support modification of instance type families for the time being, won’t change the physical node of Native Container, and doesn’t support modification of used system disks, data disks as well as network-related parameters as well. <br>- Image<br>    \- Container images are determined through image names<br>    \- Images named as nginx:tag or mysql/mysql-server:tag are public images of docker hub<br>    \- Images named as container-registry/image:tag are images of private registry<br>    \- The private registry must be compatible to the docker registry verification mechanism and save confidential information via secret<br>- Others<br>    \- Before rebuild, the container must be in off status<br>    \- After rebuild, the container is still in off status<br>|
|**resizeContainer**|POST|Adjust Native Container Instance Type Family configuration <br>- The status of Native Container is stopped;<br>- Support configuration upgrade and configuration downgrade; **Original specifications are not supported**<br>- Billing type is unchanged<br>    \- Monthly Package: Configuration price difference shall be calculated. If the price of the selected configuration is high, it is necessary to make up the price difference before expiration, and the expiration time remains unchanged; if the price of the selected configuration is low, the expiration time shall be extended<br>    \- Pay By Configuration: Billing according to the selected specifications<br>|
|**resizeTTY**|POST|Adjust the TTY size <br>|
|**startContainer**|POST|Start a single container in the off status and the container involved a job can’t be started. <br>When the container instance or a cloud disk associated with it is defaulting, the container will not be normally started. <br>|
|**stopContainer**|POST|Stop a single instance in the operating status and the container involved in a job can’t be started. <br>|
