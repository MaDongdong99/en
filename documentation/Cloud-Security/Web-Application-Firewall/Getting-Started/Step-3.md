## Local Verification

Before switching the service traffic to WAF, we recommend that you ensure all configurations and WAF forwarding to be normally by local verification first. Local verification needs to simulate WAF access at local, then access the protected website to verify the normal forwarding of WAF.

By modifying local hosts file to simulate WAF access, which guides the requests accessing the protected sites from local to WAF. Taking Windows Operating System and domain name wodemo.jd.com for example:

1. Record domain name generated by WAF, the domain name is located in the website configuration interface of Cloud WAF, where is at the Replication Button under the DNS Resolution Status Bar, you can conduct replication by moving your mouse point to that location. (see the following figures for details)

![img](https://github.com/jdcloudcom/cn/blob/dns-zhangjingfeng/image/waf-img/%E6%96%B0%E6%9C%AC%E5%9C%B0%E9%AA%8C%E8%AF%81-1.png)

2. Open Command Line manager of Windows Operating System, ping domain name generated by the above figure (it is wodemo.jd.com-b0c363ff83ca.jdcloudwaf.com for this instance) to obtain an IP address: 101.124.17.209

![img](https://github.com/jdcloudcom/cn/blob/dns-zhangjingfeng/image/waf-img/%E6%96%B0%E6%9C%AC%E5%9C%B0%E9%AA%8C%E8%AF%81-2.png)

3. Use notepad, notepad++ or other text editor to open the hosts file that is generally located in the path of C:\Windows\System32\drivers\etc\hosts.

![img](https://github.com/jdcloudcom/cn/blob/dns-zhangjingfeng/image/waf-img/%E6%9C%AC%E5%9C%B0%E9%AA%8C%E8%AF%81-1.png)

4. Append the following content at the last line: protection IP (101.124.17.209) and domain name to be protected (it is wodemo.jd.com in this instance) obtained above

![img](https://github.com/jdcloudcom/cn/blob/dns-zhangjingfeng/image/waf-img/%E6%96%B0%E6%9C%AC%E5%9C%B0%E9%AA%8C%E8%AF%81-3.png)

5. Save the hosts file, perform ping to the protected domain name. In such case, the resolved IP address shall be the WAF IP address associated just now. If the origin server address resolved is the origin server address, please try to refresh the local DNS cache (using command as ipconfig/flushdns under cmd of Windows).

![img](https://github.com/jdcloudcom/cn/blob/dns-zhangjingfeng/image/waf-img/%E6%96%B0%E6%9C%AC%E5%9C%B0%E9%AA%8C%E8%AF%81-4.png)

6. Verify if WAF forwarding is normal or not. After confirming the hosts association has taken effect (the domain name has been locally resolved as WAF IP), open the browser and enter this domain to access. If the WAF configuration is correct, the website can be normally opened.