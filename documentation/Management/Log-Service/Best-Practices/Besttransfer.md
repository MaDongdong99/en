## Log Dump Configuration - ALB Access Log Dump

This section is going to complete a log dump configuration by an actual example. It aims to make users understand the function of log dump more easily by describing the entire configuration process.

### I. Dump Demand Scenarios

1. I purchased the ALB on JD Cloud, and want to automatically store the ALB access logs into my Object Storage Service Bucket, so that I can download the log data later, analyze the response time, do monitoring statistics on the user side.

2. View the execution status of some log data dumps.

### II. Dump Task Settings:

The following operations shall be performed for the above dump demands:

1. Purchase the ALB service on JD Cloud, subscribe the log service, create a log set under the log service, create a log topic under the log set, create a collection configuration, select an access log, add the purchased ALB to the collection instance, and collect logs. The purchased ALB generates access logs.

2. Select the log set in which the ALB access to be dumped is located, and enter the log topic list.

![](https://raw.githubusercontent.com/jdcloudcom/cn/zhangwenjie-only/image/LogService/bestpractice/besttransfer01.jpg)

3. Click the **Log Dump** sub-menu under the log topic and click **Add** behind "Log Dump", or enter the Dump Task List page, and click **Create Dump Task**.

![](https://raw.githubusercontent.com/jdcloudcom/cn/zhangwenjie-only/image/LogService/bestpractice/besttransfer02.jpg)

4. Enter the name of dump task: **ALB Access Log Dump**.

5. Object dump, i.e. dump into the Object Storage Service (OSS). Select the dump bucket **logshipper-test-10** under my account. The access logs generated by the ALB will be dumped into the dump bucket. Select the dump bucket on the Object Storage Service page, and download the dumped log data to the local. Object Storage Service will be charged as per the dumped data volume and storage time.

6. Enter directory prefix: **myappversion1/**. In the dump process, access logs of ALB will be dumped to the directory.

7. Enter partition format: **%Y/%m/%d**. In the dump process, a directory will be automatically produced as per the strptime time format. The date format directory shall adopt the format YYYY/MM/DD, e.g. 2019/08/08.

8. Size of dump file: **500MB** can be selected, depending on your own demands. A single log file greater than 500MB will be split and each log file shall not be greater than 500MB.

9. Dump time interval: **30min** can be selected according to your own demands. Log files produced in each 30min period will be dumped to the selected dump object.

10. For convenience of viewing meaning of each field in the access log, **JSON* is selected as the dump format.

11. In order to save the storage cost of Object Storage Service, log files are selected to be compressed in the format of **gzip**.

### II. View dump task history:

After a dump task is created, you can view the execution history of such dump task and its status. For any dump task failed, retry within 1 hour is supported:

1. Click the sub-menu **Dump History** under **Log Dump**.

2. Select a dump task and the time range to be viewed according to demands.

![](https://raw.githubusercontent.com/jdcloudcom/cn/zhangwenjie-only/image/LogService/bestpractice/besttransfer03.jpg)






