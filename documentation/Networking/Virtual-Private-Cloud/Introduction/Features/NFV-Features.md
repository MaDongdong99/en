## **NFV**

### Basic Concept

NFV is a VM that runs software. The software can perform network functions. Users can implement corresponding functions by purchasing mirroring and creating VM with the mirroring.



### **NAT Gateway**

Features: If multiple VMs in the same VPC have the requirement to access Internet at the same time and EIP resources are insufficient, you can solve this problem by creating a NAT gateway. JD Cloud supports self-built NAT gateways to implement SNAT functions.

Use Restrictions: The self-built NAT gateway shares quotas with VM.



### **Overview**

NAT gateway is a gateway that converts Private IP address and EIP address in VPC. It is a way for cloud resources without EIP address to access Internet in VPC (but not supporting Internet to initiatively access VPC). The typical application scenarios of NAT gateway of JD VPC are as follows:

- Large bandwidth, high availability public network access. For scenarios of public network access application where users require huge bandwidth, large EIP usage and many deployment services, JD Cloud NAT Gateway can meet the requirements.
- Secure public network access. NAT gateway of JD VPC provides security conversion of IP. If a user wants to hide the EIP within VPC to avoid exposing its network deployment, and wants to access the public network, JD Cloud NAT Gateway can meet such requirements.



#### **Use of NAT Gateway and Elastic EIP**

##### **Solution 1: Use NAT gateway only**

VM is not bound to elastic EIP address, and all access Internet traffic is forwarded through NAT gateway. In this solution, traffic of VM accessing Internet is forwarded to NAT gateway through the intranet, so it will not be limited by the bandwidth limit of the public network bandwidth when purchasing the VM, and the network traffic cost generated by the NAT gateway will not occupy the public network bandwidth export of the VM.

##### **Solution 2: Use elastic EIP only**

VM is only bound to an elastic EIP instead of using NAT gateway. In this solution, all traffic of the VM accessing Internet is transmitted through elastic EIP, which is limited by the bandwidth limit of the public network bandwidth when purchasing the VM. The related costs generated by accessing the public network are determined according to the VM network charging mode.

#### **Solution 3: Simultaneous use of NAT gateway and elastic EIP**

VM is bound to elastic EIP address, and the subnet route accesses the Internet traffic and points to NAT gateway. In this solution, all traffic that the VM initiatively accesses Internet is forwarded only to NAT gateway through the intranet. Backsourcing is also returned to VM through NAT gateway. This part of traffic is not limited by the bandwidth limit of public network bandwidth when purchasing VM, and the network traffic cost generated by NAT gateway does not occupy the public network bandwidth of VM. If the traffic from the Internet actively accesses the elastic EIP of the VM, the VM return packet is uniformly returned through the elastic EIP. The resulting public network outgoing traffic is limited by the upper limit of the bandwidth of the public network bandwidth when the VM purchases. The related costs generated by accessing the public network are determined according to the VM network charging mode.



### **VPN Gateway**

Features: The VPN gateway provides Internet-based data encryption transmission service, which can realize network interconnection of different VPCs, open enterprise IDC and JD cloud intranet to realize hybrid cloud deployment; use VPN with mirror image to create VPN gateway.

Use Restrictions: The VPN gateway created by image shares quotas with the VM.



#### Product Features

- Provide encrypted data transmission channel

JD Cloud VPN uses IPSEC, IKE, and pre-shared key to encrypt data and provides a secure and reliable communication tunnel based on the public network.

- Flexible networking mode to support multi-tunnel shared gateway

Support the establishment of multiple tunnels under the VPN gateway (requires different peer gateways) to provide a relatively flexible networking mode to meet the requirements of different service scenarios.

- Tunnel connectivity detection, automatic repair tunnel function

By default, the VPN provides automatic detection of tunnel connectivity, and periodically detects the connectivity of the tunnel. Once the tunnel connection is found to be disconnected, the automatic reconnection ensures tunnel availability.



#### **Product Advantages**

- Easy to use 

Create a VPN gateway through imaging. You can set up a VPN connection without complicated configuration. It is simple and convenient; 

- Safe and reliable 

Use the IPSEC protocol to implement encrypted data communication based on the public network; 

- Flexible and autonomous 

According to the actual business needs, you can choose the appropriate VPN image.



#### Application Scenario

Currently, it provides VPN communication service based on IPSEC protocol, supports site to site mode, and can flexibly open enterprise IDC and JD Cloud intranet. The following is a typical application scenario:

Demand: Some resources are deployed in the enterprise IDC, and resources such as application services are deployed in the JD Cloud intranet, and data communication is performed through the VPN tunnel to implement hybrid cloud deployment.

![](/image/Networking/Virtual-Private-Cloud/NFV.jpg)